"use strict";(self["webpackChunkmihua"]=self["webpackChunkmihua"]||[]).push([[396],{396:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%",display:"flex"}},[t("div",{staticClass:"leftt"},[t("p",[e._v("超级企业列表("+e._s(e.num)+")")]),t("div",[t("el-input",{staticStyle:{width:"150px",margin:"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("el-button",{staticStyle:{width:"40px",padding:"5px 5px","background-color":"#E9F3FB",color:"aqua","font-size":"25px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{staticStyle:{width:"1000px",margin:"0 auto"},attrs:{visible:e.dialogFormVisible,title:"新增超级企业",lockScroll:!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"超级企业名称",prop:"ename"}},[t("el-input",{staticStyle:{width:"270px"},model:{value:e.ruleForm.ename,callback:function(t){e.$set(e.ruleForm,"ename",t)},expression:"ruleForm.ename"}})],1),t("el-form-item",{attrs:{label:"企业域名",prop:"ipstr"}},[t("el-input",{staticStyle:{width:"270px"},model:{value:e.ruleForm.ipstr,callback:function(t){e.$set(e.ruleForm,"ipstr",t)},expression:"ruleForm.ipstr"}},[t("template",{slot:"append"},[e._v(".emicloud.com")])],2)],1),t("el-form-item",{attrs:{label:"超级管理员账户",prop:"adminname"}},[t("el-input",{staticStyle:{width:"270px"},model:{value:e.ruleForm.adminname,callback:function(t){e.$set(e.ruleForm,"adminname",t)},expression:"ruleForm.adminname"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"adminemil"}},[t("el-input",{staticStyle:{width:"270px"},model:{value:e.ruleForm.adminemil,callback:function(t){e.$set(e.ruleForm,"adminemil",t)},expression:"ruleForm.adminemil"}})],1),t("el-form-item",{attrs:{label:"最大坐席数",prop:"maxnum"}},[t("el-input",{staticStyle:{width:"270px"},model:{value:e.ruleForm.maxnum,callback:function(t){e.$set(e.ruleForm,"maxnum",t)},expression:"ruleForm.maxnum"}})],1),t("el-form-item",{attrs:{label:"最大登录并发总数",prop:"maxconcurrency"}},[t("el-input",{staticStyle:{width:"270px"},model:{value:e.ruleForm.maxconcurrency,callback:function(t){e.$set(e.ruleForm,"maxconcurrency",t)},expression:"ruleForm.maxconcurrency"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消创建")])],1)],1)],1)],1),t("el-table",{staticStyle:{width:"100%",color:"#91A1A9"},attrs:{data:e.tableData.filter((t=>!e.search||t.ename.toLowerCase().includes(e.search.toLowerCase()))),"show-header":!1,height:"570px"},on:{"row-click":e.handleEdit}},[t("el-table-column",{attrs:{label:"日期",width:"20"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{class:1==e.row.status?"lan":"bai",staticStyle:{width:"10px",height:"10px","border-radius":"50%"}})]}}])}),t("el-table-column",{attrs:{label:"name",prop:"ename"}})],1)],1),t("div",{staticStyle:{width:"100%",padding:"20px","box-sizing":"border-box"}},[t("div",{staticClass:"rightt",staticStyle:{width:"100%","background-color":"white","box-sizing":"border-box",padding:"20px"}},[t("el-radio-group",{model:{value:e.url,callback:function(t){e.url=t},expression:"url"}},[t("el-radio-button",{attrs:{label:"/about/qygl/one"}},[e._v(" 超级企业管理")]),t("el-radio-button",{attrs:{label:"/about/qygl/tow"}},[e._v("子企业管理")])],1),t("div",[t("router-view",{on:{"child-event":e.parentMethod}})],1)],1)])])},a=[],l=r(7485),n={data(){return{num:0,tableData:[],search:"",url:this.$route.path,dialogFormVisible:!1,ruleForm:{ename:"",ipstr:"",adminname:"",adminemil:"",maxnum:"",maxconcurrency:""},rules:{ename:[{required:!0,message:"请输入超级企业名称",trigger:"blur"}],ipstr:[{required:!0,message:"请输入企业域名",trigger:"blur"}],adminname:[{required:!0,message:"请输入超级管理员账号",trigger:"blur"}],adminemil:[{required:!0,message:"请输入邮箱",trigger:"blur"}]}}},watch:{url(){"/about/qygl/one"==this.url?(console.log(1),this.$router.replace(this.url+"?"+this.tableData[0].id)):this.$router.replace(this.url)}},mounted(){this.get()},methods:{parentMethod(){this.get(),this.get()},get(){(0,l.YF)().then((e=>{this.num=e.data.data.length,this.tableData=e.data.data,this.$route.path+"?"+Object.keys(this.$route.query)!=this.url+"?"+e.data.data[0].id&&this.$router.replace(this.url+"?"+e.data.data[0].id)})).catch((e=>{console.error(e)}))},handleEdit(e){this.$route.path+"?"+Object.keys(this.$route.query)!=this.url+"?"+e.id&&this.$router.replace(this.url+"?"+e.id)},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.dialogFormVisible=!1,!1;(0,l.V$)(this.ruleForm).then((e=>{console.log(e),this.get(),this.dialogFormVisible=!1,this.$message({type:"success",message:"添加成功!"})})).catch((e=>{console.error(e)}))}))}}},o=n,u=r(1656),s=(0,u.A)(o,i,a,!1,null,"a3d0826e",null),c=s.exports},412:function(e,t,r){r.d(t,{$:function(){return l},V:function(){return a}});var i=r(8355);function a(e,t){return new Promise(((r,a)=>{(0,i.A)({method:"get",url:e,params:t}).then((e=>{r(e.data)})).catch((e=>{a(e.data)}))}))}function l(e,t){return new Promise(((r,a)=>{(0,i.A)({method:"post",url:e,data:t}).then((e=>{r(e.data)})).catch((e=>{a(e.data)}))}))}i.A.defaults.timeout=3e4,i.A.defaults.baseURL="https://www.zzgoodqc.cn/index.php/index/",console.log("正式"),i.A.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))},7485:function(e,t,r){r.d(t,{Jn:function(){return s},V$:function(){return c},YF:function(){return o},jk:function(){return l},ku:function(){return n},oo:function(){return u},vq:function(){return a}});var i=r(412);function a(){return new Promise((e=>{(0,i.V)("index/getcode").then((t=>{e(t)}))}))}function l(e){return new Promise((t=>{(0,i.$)("index/login",e).then((e=>{t(e)}))}))}function n(e){return new Promise((t=>{(0,i.$)("index/register",e).then((e=>{t(e)}))}))}function o(e){return new Promise((t=>{(0,i.$)("call/getsuperes",e).then((e=>{t(e)}))}))}function u(e){return new Promise((t=>{(0,i.$)(`call/getsuperbyid?id=${e}`).then((e=>{t(e)}))}))}function s(e,t){return new Promise((r=>{(0,i.$)(`call/upsuperstatus?id=${e}&status=${t}`).then((e=>{r(e)}))}))}function c(e){return new Promise((t=>{(0,i.$)("call/addsuper",e).then((e=>{t(e)}))}))}}}]);
//# sourceMappingURL=396.e729cc9b.js.map